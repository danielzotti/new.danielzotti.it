@use "@scss/variables";

.stopBtn {
  position: fixed;
  z-index: 901;
  aspect-ratio: 1;
  display: flex;
  padding: 0;

  bottom: var(--margin-medium);
  right: var(--margin-medium);
  width: 70px;
  font-size: 50px;

  .snowflake {
    font-size: 35px;
  }

  .ban {
    font-size: 60px;
  }

  @media(max-width: variables.$container-sm-min) {
    bottom: var(--margin-default);
    right: var(--margin-default);
    width: 50px;
    font-size: 40px;

    .snowflake {
      font-size: 25px;
    }
    .ban {
      font-size: 40px;
    }
  }
}

.stopBtnLayers {
  height: 100%;
  width: 100%;
}


// Snow credits to: https://codepen.io/keithclark/pen/DjXzBw
$d: 10; // density
$w: 700; // grid size
$s: 5s; // speed

$snowflakeRed: 118;
$snowflakeGreen: 183;
$snowflakeBlue: 212;

$grad: ();

@for $i from 0 to $d {
  $v: random(4) + 2;
  $a: random(5) * .1 + .5;
  $grad: $grad, radial-gradient(
                  $v+px $v+px at (random($w - $v * 2) + $v)+px (random($w - $v * 2) + $v)+px,
                  rgba($snowflakeRed, $snowflakeGreen, $snowflakeBlue, $a) 50%,
                  rgba(0, 0, 0, 0)
  ) !global;
}


.snowWrapper {
  pointer-events: none;
  position: fixed;
  inset: 0;
  z-index: 900
}

.snow, .snow:before, .snow:after {
  position: absolute;
  top: -$w + px;
  left: 0;
  bottom: 0;
  right: 0;
  background-image: $grad;
  background-size: $w + px $w + px;
  animation: snow $s linear infinite;
  content: "";
}

.snow:after {
  margin-left: -$w/3 + px;
  opacity: .4;
  animation-duration: $s*2;
  animation-direction: reverse;
  filter: blur(3px);
}

.snow:before {
  animation-duration: $s*3;
  animation-direction: reverse;
  margin-left: -$w/2 + px;
  opacity: .65;
  filter: blur(1.5px);
}

@keyframes snow {
  to {
    transform: translateY($w + px);
  }
}
